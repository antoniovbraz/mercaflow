# ğŸ”„ DUAL ROLE - GUIA VISUAL

## Como Funciona na PrÃ¡tica

### ğŸ  Tela Principal - Context Switcher

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¢ Merca Flow                    [ğŸ”„ Admin Mode] [ğŸ‘¤ Anton] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ‘‹ OlÃ¡ Anton! VocÃª estÃ¡ em modo ADMINISTRADOR             â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ”„ ALTERNAR CONTEXTO                               â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚ â— ğŸ”§ Modo Admin     â—‹ ğŸ›ï¸ Modo Lojista               â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚ Atualmente: Gerenciando toda a plataforma          â”‚   â”‚
â”‚  â”‚ [ Alternar para suas lojas ]                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ğŸ“Š DASHBOARD ADMIN - PLATAFORMA TODA                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ğŸ‘¥ Clientes â”‚ â”‚ ğŸ’° MRR      â”‚ â”‚ ğŸ§ Tickets  â”‚          â”‚
â”‚  â”‚    1,247    â”‚ â”‚ R$ 89.5K    â”‚ â”‚     23      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ›ï¸ ApÃ³s Alternar para Modo Lojista

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¢ Merca Flow                  [ğŸ›ï¸ Lojista Mode] [ğŸ‘¤ Anton] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ‘‹ Bem-vindo Ã s suas lojas, Anton!                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ”„ ALTERNAR CONTEXTO                               â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚ â—‹ ğŸ”§ Modo Admin     â— ğŸ›ï¸ Modo Lojista               â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚ Atualmente: Usando como cliente normal             â”‚   â”‚
â”‚  â”‚ [ Voltar para administraÃ§Ã£o ]                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ğŸ“Š SUAS LOJAS - MERCADO LIVRE & SHOPEE                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ğŸ“± ML Loja  â”‚ â”‚ ğŸ’° Vendas   â”‚ â”‚ ğŸ‘ï¸ Visitas  â”‚          â”‚
â”‚  â”‚   45 itens  â”‚ â”‚ R$ 2.8K     â”‚ â”‚    1,234    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â”‚  ğŸ¯ INSIGHTS IA PARA SUAS LOJAS                            â”‚
â”‚  "Aumente o preÃ§o do produto X em 8% (+R$ 240/mÃªs)"       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” ConfiguraÃ§Ã£o de Conta Ãšnica

### Estrutura no Banco de Dados

```
platform_owners (Sua conta)
â”œâ”€â”€ id: uuid
â”œâ”€â”€ email: "seu-email@exemplo.com"
â”œâ”€â”€ role: "super_admin"
â””â”€â”€ personal_tenant_id: uuid â”€â”€â”
                                â”‚
tenants (Suas lojas)           â”‚
â”œâ”€â”€ id: uuid â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€ name: "Suas Lojas Online"
â”œâ”€â”€ slug: "platform-owner-stores"
â”œâ”€â”€ plan: "enterprise"
â”œâ”€â”€ billing_status: "exempt"
â””â”€â”€ is_platform_owner_tenant: true
```

### Fluxo de Login e NavegaÃ§Ã£o

```mermaid
graph TD
    A[Login com seu email] --> B[Sistema detecta Super Admin]
    B --> C[Carrega contexto padrÃ£o: Admin]
    C --> D{UsuÃ¡rio clica no switcher?}
    
    D -->|NÃ£o| E[Continua no Admin Mode]
    D -->|Sim| F[Alterna para Lojista Mode]
    
    E --> G[Ve todos os clientes]
    E --> H[Gerencia faturamento]
    E --> I[ConfiguraÃ§Ãµes sistema]
    
    F --> J[Ve suas lojas ML/Shopee]
    F --> K[Seus insights de IA]
    F --> L[Suas configuraÃ§Ãµes]
    
    G --> M[Pode alternar para Lojista]
    J --> N[Pode voltar para Admin]
```

## ğŸ’³ CobranÃ§a e Planos

### Como Funciona para VocÃª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° SISTEMA DE COBRANÃ‡A              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚ SUAS LOJAS (Tenant Especial):      â”‚
â”‚ âœ… Plano: Enterprise (R$ 297/mÃªs)   â”‚
â”‚ âœ… Status: EXEMPT (Isento)          â”‚
â”‚ âœ… CobranÃ§a: R$ 0,00                â”‚
â”‚ âœ… Recursos: Todos liberados        â”‚
â”‚                                     â”‚
â”‚ OUTROS CLIENTES:                    â”‚
â”‚ ğŸ’³ Plano: Pro/Business/Enterprise   â”‚
â”‚ ğŸ’³ Status: ACTIVE                   â”‚
â”‚ ğŸ’³ CobranÃ§a: Normal (R$ 67-297)     â”‚
â”‚ ğŸ’³ Recursos: Conforme plano         â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ BenefÃ­cios PrÃ¡ticos

### âœ… Para VocÃª Como ProprietÃ¡rio

1. **Uma Conta SÃ³**: Sem confusÃ£o, sem mÃºltiplos logins
2. **AlternÃ¢ncia RÃ¡pida**: Um clique para mudar de contexto
3. **Uso Real**: Testa a plataforma como cliente real
4. **Feedback Direto**: Sente na pele a experiÃªncia do usuÃ¡rio
5. **Isento de Taxa**: Suas lojas nÃ£o pagam nada
6. **Plano Premium**: Acesso a todos os recursos

### ğŸ›ï¸ Como Lojista (Suas Lojas)

- **Mercado Livre**: Conecta e sincroniza automaticamente
- **Shopee**: Futuro suporte (roadmap)
- **IA AvanÃ§ada**: OtimizaÃ§Ã£o de preÃ§os e tÃ­tulos
- **Analytics Pro**: RelatÃ³rios detalhados
- **Suporte Premium**: Acesso direto (vocÃª mesmo!)
- **CustomizaÃ§Ã£o**: Vitrine personalizada

### ğŸ”§ Como Admin (Plataforma)

- **VisÃ£o 360Â°**: MÃ©tricas de toda a plataforma
- **GestÃ£o Total**: Todos os clientes e recursos
- **Suporte Seguro**: Sistema de impersonaÃ§Ã£o conforme LGPD (ver guia legal)
- **Billing Control**: Controla cobranÃ§a de todos
- **System Access**: ConfiguraÃ§Ãµes e logs do sistema

## ğŸš€ Setup PrÃ¡tico

### Checklist de ConfiguraÃ§Ã£o

```markdown
## Dual Role Setup

### Database
- [ ] Executar script de super admin
- [ ] Criar tenant especial para suas lojas
- [ ] Configurar billing exempt
- [ ] Testar polÃ­ticas de acesso

### Frontend
- [ ] Implementar ContextSwitcher component
- [ ] Configurar rotas duais (admin/customer)
- [ ] Implementar sistema de impersonaÃ§Ã£o seguro (ver IMPERSONATION_LEGAL_GUIDE.md)
- [ ] Testar alternÃ¢ncia de contexto
- [ ] Verificar permissions

### Suas Lojas
- [ ] Conectar conta Mercado Livre
- [ ] Importar produtos existentes
- [ ] Configurar vitrine personalizada
- [ ] Testar funcionalidades premium

### Testing
- [ ] Testar como admin: criar cliente fictÃ­cio
- [ ] Testar como lojista: suas lojas reais
- [ ] Verificar isenÃ§Ã£o de cobranÃ§a
- [ ] Validar alternÃ¢ncia de contexto
```

---

**Resumo**: VocÃª terÃ¡ UMA conta que funciona como duas. Um toggle simples alterna entre "dono da plataforma" e "usuÃ¡rio das suas lojas". Suas lojas ficam isentas de cobranÃ§a automaticamente, mas vocÃª tem acesso a todos os recursos premium. Ã‰ a soluÃ§Ã£o perfeita para testar, usar e administrar tudo em um lugar sÃ³! ğŸ¯
